{% extends "base.html" %}
{% block content %}
<h2>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>

<!-- –í–æ–¥–∏—Ç–µ–ª–∏ -->
<section class="admin-section">
  <h3>–í–æ–¥–∏—Ç–µ–ª–∏</h3>
  <div class="cards-container">
    {% for driver in drivers %}
      <div class="card driver-card">
        <h4>{{ driver.user.username }}</h4>
        <p>–¢–µ–ª–µ—Ñ–æ–Ω: {{ driver.phone }}</p>
        <p>
          –°—Ç–∞—Ç—É—Å:
          {% if driver.is_busy %}
            <span class="status busy">üöö –ù–∞ –∑–∞–∫–∞–∑–µ</span>
          {% else %}
            <span class="status free">‚úÖ –°–≤–æ–±–æ–¥–µ–Ω</span>
          {% endif %}
        </p>
      </div>
    {% empty %}
      <p>–ù–µ—Ç –≤–æ–¥–∏—Ç–µ–ª–µ–π</p>
    {% endfor %}
  </div>
</section>

<!-- –ó–∞—è–≤–∫–∏ -->
<section class="admin-section">
  <h3>–ó–∞—è–≤–∫–∏</h3>
  <div class="cards-container">
    {% for order in orders %}
      <div class="card order-card">
        <h4>–ó–∞–∫–∞–∑ #{{ order.id }}</h4>
        <p><strong>–û—Ç–∫—É–¥–∞:</strong> {{ order.from_address }}</p>
        <p><strong>–ö—É–¥–∞:</strong> {{ order.to_address }}</p>
        <p><strong>–í–æ–¥–∏—Ç–µ–ª—å:</strong> {% if order.driver %}{{ order.driver.user.username }}{% else %}-{% endif %}</p>
        <p>
          <strong>–°—Ç–∞—Ç—É—Å:</strong>
          {% if order.status == "new" %}
            <span class="status new">–ù–æ–≤–∞—è</span>
          {% elif order.status == "in_progress" %}
            <span class="status busy">–í —Ä–∞–±–æ—Ç–µ</span>
            <a href="{% url 'order_map' order.id %}" class="btn btn-map">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–∞—Ä—à—Ä—É—Ç</a>
          {% else %}
            <span class="status completed">–ó–∞–≤–µ—Ä—à–µ–Ω–∞</span>
          {% endif %}
        </p>
      </div>
    {% empty %}
      <p>–ó–∞—è–≤–æ–∫ –Ω–µ—Ç</p>
    {% endfor %}
  </div>
</section>
{% endblock %}
